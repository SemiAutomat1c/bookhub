<header>
    <div class="header-left">
        <a href="/bookhub/views/index.html" class="site-title">
            <img src="/bookhub/assets/images/logo22.jpg" alt="Logo" class="logo light-logo">
            <img src="/bookhub/assets/images/logo11.jpg" alt="Logo" class="logo dark-logo">
            BookHub
        </a>
    </div>
    
    <div class="header-center">
        <div class="search-container">
            <div class="search-input-wrapper">
                <input type="text" id="searchInput" class="search-input" placeholder="Search for books...">
                <button class="search-button" onclick="performSearch()">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
    </div>

    <div class="header-controls">
        <nav class="header-nav">
            <a href="/bookhub/views/index.html" class="nav-button">Home</a>
            <a href="/bookhub/views/search.html" class="nav-button">Search</a>
            <!-- Protected features only shown when logged in -->
            <a href="/bookhub/views/reading-list.html" class="nav-button protected-feature">My List</a>
            <div class="profile-dropdown protected-feature">
                <button class="profile-button nav-button">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                </button>
                <div class="dropdown-content">
                    <a href="/bookhub/views/profile.html">View Profile</a>
                    <a href="#" onclick="logout()">Logout</a>
                </div>
            </div>
            <!-- Sign in button only shown when logged out -->
            <a href="/bookhub/views/sign-in.html" class="nav-button signed-out-only">Sign In</a>
        </nav>
        <button id="themeToggle" class="theme-toggle">
            <i class="fas fa-sun light-icon"></i>
            <i class="fas fa-moon dark-icon"></i>
        </button>
    </div>
</header>

<script>
// Theme toggle functionality
const themeToggle = document.getElementById('themeToggle');

function toggleTheme() {
    document.body.classList.toggle('dark-mode');
    const isDarkMode = document.body.classList.contains('dark-mode');
    localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
}

function initTheme() {
    const savedTheme = localStorage.getItem('theme') || 'light';
    if (savedTheme === 'dark') {
        document.body.classList.add('dark-mode');
    }
}

// Initialize theme
initTheme();

// Add click event to theme toggle button
if (themeToggle) {
    themeToggle.addEventListener('click', toggleTheme);
}
</script>
